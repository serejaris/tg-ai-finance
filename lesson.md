# Урок: Создание проекта с помощью AI агента

## Введение

### О чем этот урок

Мы создадим Telegram-бота для учета расходов. Без программирования — только с помощью диалога с AI агентом.

**Что умеет бот:**
- Понимает текстовые сообщения: "Купил кофе 500 рублей"
- Распознает голосовые сообщения
- Читает фото чеков
- Автоматически определяет категорию траты
- Показывает статистику расходов за день и месяц

### Цели обучения

После урока вы сможете:
1. Объяснять AI агенту, что вам нужно
2. Добавлять новые функции простыми просьбами
3. Исправлять ошибки без знания программирования
4. Деплоить проект на production сервис

### Ключевая идея

Весь код пишет AI. Вы только описываете, что хотите получить, простыми словами.

## Основные этапы разработки

### Этап 1: Создание базового бота

**Что я сказал AI:**
```
Создать Telegram-бота для учета расходов с поддержкой текста/голоса/картинок через OpenAI API.
```

**Что получил:**
- Рабочий бот с командами /start, /help, /today, /month
- Понимает текст, голос и фото
- Сохраняет расходы в базу данных

### Этап 2: Поддержка разных валют

**Проблема:** Бот не понимал "15 тысяч песо".

**Что я сказал AI:**
```
Распознано: "15 тысяч песо в кафешке потратили во время обеда". Не удалось извлечь сумму расхода.
```

**Что получил:**
- Бот понимает разные валюты (рубли, песо, доллары)
- Понимает словесные числа ("15 тысяч" = 15000)
- Сохраняет валюту каждого расхода

### Этап 3: Логирование

**Что я сказал AI:**
```
Добавь логирование плз для сервера
```

**Что получил:**
- Все действия бота записываются в лог
- Можно отследить, что происходило
- Легче найти и исправить ошибки

### Этап 4: Автоматическое определение категорий

**Что я сказал AI:**
```
Бот с помощью AI должен определять категорию траты
```

**Что получил:**
- Бот сам определяет категорию: еда, транспорт, развлечения, здоровье и т.д.
- Показывает категорию при сохранении расхода
- Группирует расходы по категориям в статистике

### Этап 5: Меню команд

**Что я сказал AI:**
```
Добавь автоматическое отображение меню в телеграме
```

**Что получил:**
- Меню с командами появляется в интерфейсе Telegram
- Не нужно запоминать команды

### Этап 6: Настройки валюты

**Что я сказал AI:**
```
Мне нужно меню настройки в котором можно менять отображение валюты
```

**Что получил:**
- Команда /settings для выбора валюты отображения
- Все суммы автоматически конвертируются в выбранную валюту
- Можно установить свои курсы валют

### Этап 7: Подтверждение расходов

**Что я сказал AI:**
```
Исправить ошибку конвертации валют - парсер определяет рубли вместо песо, 
и добавить кнопку подтверждения перед сохранением расхода
```

**Что получил:**
- Кнопки "Подтвердить" и "Отменить" перед сохранением
- Можно увидеть, что именно будет сохранено
- Без случайных сохранений

### Этап 8: Деплой на Railway

**Проблема:** Бот не запускался на Railway.

**Что я сказал AI:**
```
Задеплоил бота на railway, но ошибка - AttributeError: 'Updater' object has no attribute '_Updater__polling_cleanup_cb'
```

**Что получил:**
- Рабочий бот на Railway
- Исправлена несовместимость версий
- AI сам определил и исправил проблему

### Этап 9: Сохранение данных

**Проблема:** Данные стирались при каждом обновлении.

**Что я сказал AI:**
```
При каждом обновлении (редеплое) база данных стирается. Что делать?
```

**Что получил:**
- Данные теперь сохраняются постоянно
- Переход на другую систему хранения
- Инструкции по настройке

## Правила работы с AI агентом

### Будьте конкретны

**Плохо:** "Сделай лучше"
**Хорошо:** "Добавь кнопку подтверждения перед сохранением расхода"

Чем подробнее опишете, что хотите, тем лучше AI поймет задачу.

### Решайте проблемы по одной

Не просите сразу всё. Сначала базовая версия, потом добавляйте функции по одной.

**Пример:** Сначала бот без категорий, потом добавили определение категорий, потом настройки валюты.

### Описывайте проблемы детально

**Плохо:** "Не работает"
**Хорошо:** "Распознано: '15 тысяч песо'. Не удалось извлечь сумму расхода"

Приложите скриншот ошибки или скопируйте текст. Чем больше контекста, тем лучше.

### Проверяйте результат

После каждого изменения проверяйте, что всё работает, прежде чем добавлять следующее.

### Не бойтесь ошибок

Ошибки — это нормально. Просто опишите их AI, и он исправит.

## Практические задания

### Задание 1: Создание базового бота

Создайте нового бота с нуля.

**Скажите AI:**
```
Создать Telegram-бота для учета расходов с поддержкой текста/голоса/картинок через OpenAI API.
```

**Проверьте:**
- Бот отвечает на /start
- Принимает сообщение "500 рублей на кофе"
- Показывает расходы за сегодня

### Задание 2: Добавление валют

Добавьте поддержку разных валют.

**Скажите AI:**
```
Бот не понимает "15 тысяч песо". Добавь поддержку разных валют.
```

**Проверьте:**
- Бот понимает "15 тысяч песо"
- Сохраняет правильную валюту
- Показывает её в ответе

### Задание 3: Категории

Добавьте автоматическое определение категорий.

**Скажите AI:**
```
Бот должен автоматически определять категорию траты: еда, транспорт, развлечения и т.д.
```

**Проверьте:**
- "Купил кофе" → категория "еда"
- "Такси 300 рублей" → категория "транспорт"
- Категория показывается в статистике

### Задание 4: Настройки

Добавьте меню настроек.

**Скажите AI:**
```
Нужно меню /settings где можно выбрать валюту отображения.
```

**Проверьте:**
- Команда /settings работает
- Можно выбрать валюту
- Все суммы конвертируются автоматически

### Задание 5: Деплой

Задеплойте бота на Railway.

**Скажите AI:**
```
Задеплоить бота на Railway. Если будут ошибки, исправить.
```

**Проверьте:**
- Бот работает на Railway
- Все команды работают
- Данные сохраняются

## Заключение

### Что вы узнали

- Можно создавать работающие проекты без знания программирования
- Главное — правильно объяснить AI, что вы хотите
- Разбивайте большие задачи на маленькие
- Ошибки легко исправлять, описывая проблему

### Главные навыки

1. **Четкие формулировки** - опишите что хотите, как можно подробнее
2. **Постепенное развитие** - не просите всё сразу, добавляйте по функциям
3. **Описание проблем** - когда что-то не работает, опишите что происходит
4. **Проверка результата** - после каждого шага смотрите, работает ли
5. **Не боитесь менять** - можно переделать, просто объясните AI

### Полезные советы

**Как общаться с AI:**
- Говорите конкретно: "Добавь кнопку..." вместо "Улучши интерфейс"
- Показывайте примеры: "Как в этом скриншоте"
- Объясняйте зачем: "Чтобы не сохранять случайные расходы"
- Начинайте с простого, усложняйте постепенно

**Если что-то не работает:**
1. Скопируйте текст ошибки и отправьте AI
2. Сделайте скриншот и покажите
3. Опишите что ожидали и что получили
4. AI сам разберется и исправит

**Для production:**
- Тестируйте локально перед деплоем
- Делайте бэкап важных данных
- Документируйте что добавили
- Думайте о пользователе с самого начала

### Что дальше

Попробуйте добавить свои функции:
- Напоминания о крупных тратах
- Бюджет на категории
- Графики расходов
- Семейный/групповой учет

Или создайте свой проект — у вас теперь есть навыки!

### Главное

Вы научились создавать работающие проекты через диалог с AI. Это будущее разработки: не программирование, а продуктивное общение с умным помощником.
