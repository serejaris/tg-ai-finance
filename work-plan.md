# План работы над Telegram-ботом для учета расходов

## Версионный лог

### 2025-01-27 - Начало разработки
**Промпт:** Создать Telegram-бота для учета расходов с поддержкой текста/голоса/картинок через OpenAI API

**Решение:**
- SQLite для хранения данных
- AI автоматически извлекает сумму из текста/голоса/картинки
- Команды /today и /month для summary
- Описание покупки не сохраняется, только сумма

**Сделано:**
- Создана структура проекта с модулями: bot.py, config.py, openai_client.py, storage.py, expense_parser.py
- Настроены зависимости (requirements.txt)
- Реализована конфигурация через .env файл
- Реализован OpenAI клиент с поддержкой Whisper (транскрипция), GPT-4o (OCR и парсинг)
- Реализовано SQLite хранилище расходов
- Реализован парсер суммы из текста через GPT-4o
- Реализован основной бот с обработчиками текста, голоса и фото
- Реализованы команды /today и /month для summary
- Добавлена обработка ошибок в обработчиках
- Создан README с инструкциями по установке и использованию
- Добавлен .gitignore для защиты чувствительных данных

### 2025-01-27 - Запуск через uv
**Действие:** Настройка и запуск проекта через uv менеджер пакетов
**Сделано:**
- Создано виртуальное окружение через uv venv
- Установлены зависимости через uv pip install
- Создан скрипт run.sh для удобного запуска
- Обновлен README с инструкциями по использованию uv
- Проверено: бот требует файл .env с токенами для работы

## Задачи

- [x] Создать структуру проекта
- [x] Настроить зависимости (requirements.txt)
- [x] Реализовать конфигурацию (.env)
- [x] Реализовать OpenAI клиент (Whisper транскрипция, GPT-4 Vision OCR, GPT-4 парсинг суммы)
- [x] Реализовать SQLite хранилище расходов
- [x] Реализовать парсер суммы из ответа AI
- [x] Реализовать основной бот с обработчиками
- [x] Реализовать команды summary
- [x] Добавить обработку ошибок
- [x] Создать README с инструкциями

